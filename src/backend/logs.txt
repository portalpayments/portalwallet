~/Code/portal/wallet$ npx jest -t 'mint an identity token'
FAIL src/backend/identity-tokens.test.ts
‚óè Console

    console.log
      ‚ö° Connecting to localhost

      at connect (src/backend/vmwallet.ts:75:6)

    console.log
      üí∏ Putting Sol into wallet

      at putSolIntoWallet (src/backend/vmwallet.ts:112:6)

‚óè identity tokens ‚Ä∫ we can mint an identity token for Alice

    FetchError: request to http://127.0.0.1:8899/ failed, reason: connect ECONNREFUSED 127.0.0.1:8899

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

‚óè identity tokens ‚Ä∫ We can retrieve the NFT we just minted

    FetchError: request to http://127.0.0.1:8899/ failed, reason: connect ECONNREFUSED 127.0.0.1:8899

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

‚óè identity tokens ‚Ä∫ We make an Associated Token Account for the Portal Identity Token in Alice's wallet

    FetchError: request to http://127.0.0.1:8899/ failed, reason: connect ECONNREFUSED 127.0.0.1:8899

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

‚óè identity tokens ‚Ä∫ We can transfer the NFT we just made to the Associated Token Account in Alice's wallet

    FetchError: request to http://127.0.0.1:8899/ failed, reason: connect ECONNREFUSED 127.0.0.1:8899

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

‚óè identity tokens ‚Ä∫ We can get the associated token account for Portal Identity Token for Alice's wallet

    FetchError: request to http://127.0.0.1:8899/ failed, reason: connect ECONNREFUSED 127.0.0.1:8899

      at ClientRequest.<anonymous> (node_modules/node-fetch/lib/index.js:1491:11)

FAIL src/backend/mint-identity-tokens.test.ts (11.487 s)
‚óè Console

    console.log
      Running token minter...

      at Object.<anonymous> (src/backend/mint-identity-tokens.test.ts:5:4)

    console.log
      üé´ Minting identity token...

      at Object.<anonymous> (src/backend/mint-identity-tokens.test.ts:24:10)

    console.log
      üè¶ Minting identity tokens

      at mintAndTransferIdentityToken (src/backend/mint-identity-tokens.ts:28:6)

    console.log
      ‚ö° Connecting to quickNodeMainNetBeta

      at connect (src/backend/vmwallet.ts:75:6)

‚óè mint an identity token ‚Ä∫ can mint a real identity token for demo purposes

    MetaplexError: Account Not Found
    >> Source: SDK
    >> Problem: The account of type [MintAccount] was not found at the provided address [BZ4EWrH6XZ9o1GXwS8SqF6XQrPnQSvTZiCVz7NVFgFJf].
    >> Solution: Ensure the provided address is correct and that an account exists at this address.

      60 |   // See https://github.com/metaplex-foundation/js-examples/blob/main/getting-started-expressjs/createNFT.cjs too
      61 |
    > 62 |   const createOutput = await metaplexNFTs
         |                        ^
      63 |     .create({
      64 |       uri: uploadResponse.uri, // "https://arweave.net/123",
      65 |       name,

      at assertAccountExists (node_modules/@metaplex-foundation/js/src/types/Account.ts:113:11)
      at Object.toMintAccount (node_modules/@metaplex-foundation/js/src/types/Account.ts:100:7)
      at Object.handle (node_modules/@metaplex-foundation/js/src/plugins/nftModule/operations/findNftByMint.ts:105:27)
      at async /home/mike/Code/portal/wallet/node_modules/@metaplex-foundation/js/src/utils/Task.ts:82:23
      at async Disposable.run (node_modules/@metaplex-foundation/js/src/utils/Disposable.ts:34:14)
      at async Object.handle (node_modules/@metaplex-foundation/js/src/plugins/nftModule/operations/createNft.ts:135:17)
      at async /home/mike/Code/portal/wallet/node_modules/@metaplex-foundation/js/src/utils/Task.ts:82:23
      at async Disposable.run (node_modules/@metaplex-foundation/js/src/utils/Disposable.ts:34:14)
      at async mintIdentityToken (src/backend/identity-tokens.ts:62:24)

Test Suites: 2 failed, 8 skipped, 2 of 10 total
Tests: 2 failed, 74 skipped, 76 total
Snapshots: 0 total
Time: 29.302 s
Ran all test suites with tests matching "mint an identity token".

ü§† 0:30:53
~/Code/portal/wallet$ npx jest -t 'mint a real identity token'
PASS src/backend/mint-identity-tokens.test.ts (23.457 s)
‚óè Console

    console.log
      Running token minter...

      at Object.<anonymous> (src/backend/mint-identity-tokens.test.ts:5:4)

    console.log
      üé´ Minting identity token...

      at Object.<anonymous> (src/backend/mint-identity-tokens.test.ts:24:10)

    console.log
      üè¶ Minting identity tokens

      at mintAndTransferIdentityToken (src/backend/mint-identity-tokens.ts:28:6)

    console.log
      ‚ö° Connecting to quickNodeMainNetBeta

      at connect (src/backend/vmwallet.ts:75:6)

    console.log
      üéüÔ∏èThe token for Holger has been created. {
        mintAddress: 'iPY6iRiwPxb8WNWsw3D14LNhiC4ZaWoJ5Na3YG678Ey',
        tokenAddress: 'FWTFKy7t1UiFnDf4Ho1gt17shHceGqUP1tPzBtHm4vd5'
      }

      at mintAndTransferIdentityToken (src/backend/mint-identity-tokens.ts:41:6)

    console.log
      üëõ made token account for this mint on Holger's wallet, recipient token account is CXBtN9mrZnJVc4oScBM43mWPWJJNW895oHXRcLNAGLdn

      at mintAndTransferIdentityToken (src/backend/mint-identity-tokens.ts:58:6)

    console.log
      Transferred token to final destination! r52QJaiibLDZ6S2eVoQWJmV3SAwzCw1mVLSWDQgkWDXwdKcnkX7pd35h5kija93FdG9QRZ5qdQixpr2Au5NTDux

      at mintAndTransferIdentityToken (src/backend/mint-identity-tokens.ts:70:6)

    console.log
      r52QJaiibLDZ6S2eVoQWJmV3SAwzCw1mVLSWDQgkWDXwdKcnkX7pd35h5kija93FdG9QRZ5qdQixpr2Au5NTDux

      at Object.<anonymous> (src/backend/mint-identity-tokens.test.ts:30:10)

    console.log
      ‚úÖ Completed successfully

      at Object.<anonymous> (src/backend/mint-identity-tokens.test.ts:32:10)

Test Suites: 9 skipped, 1 passed, 1 of 10 total
Tests: 75 skipped, 1 passed, 76 total
Snapshots: 0 total
Time: 29.47 s
Ran all test suites with tests matching "mint a real identity token".
